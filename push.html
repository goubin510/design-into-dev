<!DOCTYPE html>
<html>
<head>
	<title>FinanceDash</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<style type="text/css">
		.jumbotron {
			position: centered;
			
			width: 600px;
		}
	</style>
</head>
<body>
<!-- ___________________________INPUT___________________________ -->
	<div class="jumbotron">
		<form>
			<label for="pwd">Passphrase:</label>
			<input type="password" name="password" class="form-control" id="pwd">

			<label for="amountDesc">Description:</label>
			<input type="text" class="form-control" id="amountDesc">

			<label for="amount">Amount:</label>
			<input type="text" class="form-control" id="amount">

			<label for="category">Category:</label>
			<select class="form-control" id="category" name="sellist1">
				<option>Loisirs</option>
				<option>Epargne</option>
				<option>Obligations</option>
				<option>Revenue</option>
				<option>Provisoire</option>
			</select>

			<label for="date">Date:</label>
			<input type="date" class="form-control" id="date">

			<button class="btn btn-primary" id="send">Send</button>
		</form>
	</div>

<script type="text/javascript">
	$("#send").click(function(){
		var json = {};

		json.description = $("#amountDesc").val();
		json.amount = $("#amount").val();
		json.category = $("#category").val();
		json.identificationStr = $("#pwd").val();
		json.date = () => {if($("#date").val()) return $("#date").val(); else return Date.now()}

		$.post("/data", json,
		function(res){
			$("#amountDesc").val("");
			$("#amount").val(0);
		});
	});
</script>
</html>